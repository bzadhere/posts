---
title: 准备好吹牛B
date: 2018-10-29 23:02:33
tags:
categories: 面试
---

# BOSS系统介绍
> 整体功能架构
> 计费功能架构
> 计费技术架构
> 计费对外接口设计
> 部署方案(接入/应用/数据) (集群、负载均衡、分布式、数据一致性的区别与关系)
> 高可用及容灾设计和测试(mdb)


两个机房, A/B/C/D 4个业务中心, 
| 流程 | 部署 | 事务数/秒(TPS) | 查询次数/秒(QPS) | 总量/天 | 
|:-|:-|:-|:-|:-|:-|:-|
| 计费查询代理 | A/B/C/D 每个中心多个端口 | | | | | 
| 计费MDB | 主/备(同机房)/容(异地机房), A/B/C/D 每个中心2个 | |
| GSM长流程 | 按需部署 |
| GPRS长流程 | 按需部署 | 
| 告警导出 | 按需部署 |
| 在线计费 | 按需部署 |
| 资料上发 | 按需部署 | | 
| XC本地容器 | 每个应用主机一个 | |




<!-- more -->

# 遇到过的问题
> 网络粘包, errno
> 交叉死锁, 锁顺序不一致
> binlog乱序, 索引优化
> 内存泄漏(lua,new/del, 基类不是析构函数, vector内存只增不减,swap释放问题) 
> 性能优化, 主机问题(linux时钟源, ssd调度方式cfq/deadline, ck和binglog文件rename, 自旋锁占CPU过高, 存储变为只读)
> 咪咕在线流程超时(kpi数据分析, sock日志, 冲销节点慢，但是在整个批价节点的占比变化不大，因此判断是网络/CPU等原因导致
> 乐观锁优化 [介绍](https://github.com/bzadhere/JavaGuide/blob/master/%E9%9D%A2%E8%AF%95%E5%BF%85%E5%A4%87/%E9%9D%A2%E8%AF%95%E5%BF%85%E5%A4%87%E4%B9%8B%E4%B9%90%E8%A7%82%E9%94%81%E4%B8%8E%E6%82%B2%E8%A7%82%E9%94%81.md)

# 最得意的事
> 
>　
